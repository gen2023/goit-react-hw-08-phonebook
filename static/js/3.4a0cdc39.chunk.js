(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},113:function(e,t,n){"use strict";n.r(t);var a=n(32),c=n(33),r=n(35),o=n(34),l=n(0),u=n.n(l),s=n(13),i=n(3),m=n(19),d=n.n(m),f=n(9),h=function(e){var t=e.name,n=e.number;return function(e){var a={name:t,number:n};e(Object(f.i)()),d.a.post("/contacts",a).then((function(t){var n=t.data;return e(Object(f.j)(n))})).catch((function(t){return e(Object(f.h)(t.message))}))}},b=function(e){return function(t){t(Object(f.f)()),d.a.delete("/contacts/".concat(e)).then((function(){return t(Object(f.g)(e))})).catch((function(e){return t(Object(f.e)(e.message))}))}},p=function(){return function(e){e(Object(f.c)()),d.a.get("/contacts").then((function(t){var n=t.data;return e(Object(f.d)(n))})).catch((function(t){return e(Object(f.b)(t.message))}))}},v=n(15),E=function(e){return e.contacts.loading},g=function(e){return e.contacts.filter},j=function(e){return e.contacts.items},O=Object(v.a)([j,g],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))})),C=n(22),y=(n(107),document.querySelector("#modal-root")),k=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(C.createPortal)(u.a.createElement("div",{className:"Modal__backdrop",onClick:this.handleBackdropClick},u.a.createElement("div",{className:"Modal__content"},u.a.createElement("span",null,this.props.children))),y)}}]),n}(l.Component),N=(n(108),function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={name:"",number:"",message:"",showModal:!1},e.handleChange=function(t){var n=t.target,a=n.name,c=n.value;e.setState(Object(i.a)({},a,c))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.name,c=n.number,r=e.props.contacts.find((function(e){return a===e.name})),o=e.props.onContact;return a&&c&&(a||c)?r?(e.closeModal(),e.setState({message:"".concat(a," is already in contacts")})):(o(e.state),void e.resetForm()):(e.closeModal(),e.setState({message:"Fill in all the fields"}))},e.closeModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e}return Object(c.a)(n,[{key:"resetForm",value:function(){this.setState({name:"",number:""})}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.number,a=e.message,c=e.showModal;return u.a.createElement(u.a.Fragment,null,c&&u.a.createElement(k,{onClose:this.closeModal},a),u.a.createElement("form",{onSubmit:this.handleSubmit},u.a.createElement("div",{className:"form-group"},u.a.createElement("label",null,"Name"),u.a.createElement("input",{type:"text",className:"input",placeholder:"Enter name",value:t,name:"name",onChange:this.handleChange})),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",null,"Number "),u.a.createElement("input",{type:"text",className:"input",placeholder:"Enter number",value:n,name:"number",onChange:this.handleChange})),u.a.createElement("button",{className:"submit submitAdd",type:"submit"},"Add contact")))}}]),n}(l.Component)),w=Object(s.b)((function(e){return{contacts:j(e)}}),(function(e){return{onContact:function(t){return e(h(t))}}}))(N),M=function(e){var t=e.name,n=e.number,a=e.onRemove;return u.a.createElement("li",{className:"listContacts"},u.a.createElement("span",{className:"list"},t),u.a.createElement("span",{className:"list"}," ",n),u.a.createElement("button",{className:"list",type:"button",onClick:a},"Delete"))},L=(n(109),Object(s.b)((function(e){return{contacts:O(e)}}),(function(e){return{onRemoveContact:function(t){return e(b(t))}}}))((function(e){var t=e.contacts,n=e.onRemoveContact;return u.a.createElement("ul",{className:"contextListContacts"},u.a.createElement("header",{className:"listContacts"},u.a.createElement("span",{className:"headerList"},"name"),u.a.createElement("span",{className:"headerList"},"telephone"),u.a.createElement("span",{className:"headerList"},"action")),t.map((function(e){var t=e.id,a=e.name,c=e.number;return u.a.createElement(M,{key:t,name:a,number:c,onRemove:function(){return n(t)}})})))}))),S=(n(110),Object(s.b)((function(e){return{value:g(e)}}),(function(e){return{handleFilter:function(t){return e(Object(f.a)(t.target.value))}}}))((function(e){var t=e.value,n=e.handleFilter;return u.a.createElement("div",{className:"formFilter"},u.a.createElement("div",{className:"form-group"},u.a.createElement("label",null,"Find contacts by name"),u.a.createElement("input",{type:"text",className:"input",placeholder:"Enter name",value:t,name:"filter",onChange:n})))}))),F=n(36),D=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.listContacts()}},{key:"render",value:function(){return u.a.createElement("div",{className:"content contentPhonebook"},u.a.createElement("div",{className:"formPhonebook"},u.a.createElement("h1",null,"Phonebook"),u.a.createElement(w,null)),u.a.createElement(S,null),u.a.createElement("div",null,u.a.createElement("h2",null,"Contact"),this.props.isLoading&&u.a.createElement(F.a,null),u.a.createElement(L,null)))}}]),n}(l.Component);t.default=Object(s.b)((function(e){return{isLoading:E(e)}}),(function(e){return{listContacts:function(){return e(p())}}}))(D)}}]);
//# sourceMappingURL=3.4a0cdc39.chunk.js.map